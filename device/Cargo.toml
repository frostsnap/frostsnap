[package]
name = "device"
version = "0.1.0"
authors = ["nickfarrow <nick@nickfarrow.com>"]
edition = "2021"

# [profile.release]
# opt-level = "s"

# [profile.dev]
# debug = true # Symbols are nice and they don't increase the size on Flash
# opt-level = "z"

[features]
default = ["native"]
native = ["esp-idf-sys/native"]
pio = ["esp-idf-sys/pio"]

[dependencies]
frostsnap_core = { path="../frostsnap_core" }
esp-idf-svc = { version= "=0.43.5", features = ["experimental", "alloc"] }
esp-idf-sys = { version = "0.31.12", features = ["binstart"] }
esp-idf-hal = "0.39.4"
log = "0.4.17"
toml-cfg = "0.1.3"
anyhow = "1"


[build-dependencies]
embuild = { version = "0.30.4", features = ["elf"] }
anyhow = "1"

[package.metadata.espflash]
# bootloader      = "bootloader.bin" # Must be a binary file
partition_table = "partitions.csv" # Supports CSV and binary formats
# format          = "direct-boot"    # Can be 'esp-bootloader' or 'direct-boot'
